import{a as E,f as at,b as ot}from"./formatters-Bnv68_Nh.js";import{bg as it,d as z,a as R,c as x,l as A,m as t,o as d,e as a,b as e,f as r,$ as v,x as S,g as $,v as C,ai as F,t as P,F as U,X as q,bh as nt,aW as k,J as X,i as O,K as Q,r as w,be as lt,w as rt,ba as ct,a$ as Y}from"./index-DqY9bX1y.js";import{C as j}from"./vue3-perfect-scrollbar-BlrC7XbA.js";import{u as dt}from"./useApi-Bw4p4Wk4.js";import{c as ut}from"./createUrl-BY6QgsMV.js";import{$ as Z}from"./api-C5XqUV6y.js";import{V as T}from"./VAvatar-DgZ7x4dV.js";import{V as D}from"./VImg-BbL5lMG3.js";import{V as B}from"./VBadge-B4QqgDTY.js";import{_ as et}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as mt}from"./AppTextField.vue_vue_type_script_setup_true_lang-CJ0d7_Re.js";import{V as st}from"./VDivider-0EFaISfK.js";import{_ as ht}from"./AppTextarea.vue_vue_type_script_setup_true_lang-D0ZM-k-B.js";import{V as pt,a as ft}from"./VRadioGroup-D1J-dJk9.js";import{V as G}from"./VSwitch-fXSSkyKQ.js";import{u as vt,a as xt,V as bt}from"./VMain-D_WjjgF9.js";import{V as J}from"./VNavigationDrawer-BqhasET5.js";import{V as gt}from"./VSpacer-CRT0ueuP.js";import{V as Ct}from"./VForm-8xN39wj3.js";import{V as _t}from"./VTextField-bibubgmR.js";import"./helpers-BGv4x_9E.js";import"./index-CvOPxmL5.js";import"./transition-Cgm_pV_K.js";import"./index-Du0nQsin.js";/* empty css                   */import"./VCounter-wa6z1vKb.js";import"./VField-DEBLyDU3.js";import"./form-DkNWoHoG.js";import"./easing-Bybner-F.js";import"./VInput-DCtt_9HX.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelectionControl-CpdbXMhy.js";import"./ssrBoot-5xHTV11C.js";import"./delay-Dq_84n2L.js";import"./scopeId-DPLRcO83.js";/* empty css              */const L=()=>({resolveAvatarBadgeVariant:s=>s==="online"?"success":s==="busy"?"error":s==="away"?"warning":"secondary"}),M=it("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(_){const{data:s,error:n}=await dt(ut("/apps/chat/chats-and-contacts",{query:{q:_}}));if(n.value)console.log(n.value);else{const{chatsContacts:u,contacts:i,profileUser:l}=s.value;this.chatsContacts=u,this.contacts=i,this.profileUser=l}},async getChat(_){const s=await Z(`/apps/chat/chats/${_}`);this.activeChat=s},async sendMsg(_){var m,o,f,h,p;const s=(m=this.profileUser)==null?void 0:m.id,n=await Z(`apps/chat/chats/${(o=this.activeChat)==null?void 0:o.contact.id}`,{method:"POST",body:{message:_,senderId:s}}),{msg:u,chat:i}=n;if(i!==void 0){const b=this.activeChat;this.chatsContacts.push({...b.contact,chat:{id:i.id,lastMessage:[],unseenMsgs:0,messages:[u]}}),this.activeChat&&(this.activeChat.chat={id:i.id,messages:[u],unseenMsgs:0,userId:(f=this.activeChat)==null?void 0:f.contact.id})}else(p=(h=this.activeChat)==null?void 0:h.chat)==null||p.messages.push(u);const l=this.chatsContacts.find(b=>this.activeChat?b.id===this.activeChat.contact.id:!1);l.chat.lastMessage=u}}}),yt={class:"text-center px-6"},$t={key:1,class:"text-3xl"},Vt={class:"text-h5"},kt={class:"text-capitalize text-body-1 mb-0"},wt={class:"my-6"},Ut={class:"mb-6 text-body-1"},It={class:"mb-6"},St={class:"d-flex align-center text-high-emphasis pa-2"},At={class:"d-flex align-center text-high-emphasis pa-2"},Tt={class:"d-flex align-center text-high-emphasis pa-2"},Bt={class:"d-flex align-center text-high-emphasis pa-2"},zt={class:"d-flex align-center text-high-emphasis pa-2"},Dt={class:"d-flex align-center text-high-emphasis pa-2"},Mt={class:"d-flex align-center text-high-emphasis pa-2"},Nt=z({__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(_){const s=M(),{resolveAvatarBadgeVariant:n}=L();return(u,i)=>{const l=R("IconBtn");return t(s).activeChat?(d(),x(U,{key:0},[a("div",{class:S(["chat-user-profile-close-button",u.$vuetify.locale.isRtl?"text-left":"text-right"])},[e(l,{onClick:i[0]||(i[0]=m=>u.$emit("close"))},{default:r(()=>[e(v,{icon:"bx-x",class:"text-medium-emphasis",size:"24"})]),_:1})],2),a("div",yt,[e(B,{location:"bottom right","offset-x":"13","offset-y":"7",bordered:"",color:t(n)(t(s).activeChat.contact.status),class:"chat-user-profile-badge mb-4 mt-12"},{default:r(()=>[e(T,{size:"84",variant:t(s).activeChat.contact.avatar?void 0:"tonal",color:t(s).activeChat.contact.avatar?void 0:t(n)(t(s).activeChat.contact.status)},{default:r(()=>[t(s).activeChat.contact.avatar?(d(),$(D,{key:0,src:t(s).activeChat.contact.avatar},null,8,["src"])):(d(),x("span",$t,C(("avatarText"in u?u.avatarText:t(E))(t(s).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",Vt,C(t(s).activeChat.contact.fullName),1),a("p",kt,C(t(s).activeChat.contact.role),1)]),e(t(j),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-6 px-6",options:{wheelPropagation:!1}},{default:r(()=>[a("div",wt,[i[1]||(i[1]=a("div",{class:"text-body-1 text-disabled mb-1"}," ABOUT ",-1)),a("p",Ut,C(t(s).activeChat.contact.about),1)]),a("div",It,[i[5]||(i[5]=a("div",{class:"text-body-1 text-disabled mb-1"}," PERSONAL INFORMATION ",-1)),a("div",St,[e(v,{class:"me-2",icon:"bx-envelope",size:"20"}),i[2]||(i[2]=a("div",{class:"text-base"}," lucifer@email.com ",-1))]),a("div",At,[e(v,{class:"me-2",icon:"bx-phone",size:"20"}),i[3]||(i[3]=a("div",{class:"text-base"}," +1(123) 456 - 7890 ",-1))]),a("div",Tt,[e(v,{class:"me-2",icon:"bx-time-five",size:"20"}),i[4]||(i[4]=a("div",{class:"text-base"}," Mon - Fri 10AM - 8PM ",-1))])]),a("div",null,[i[11]||(i[11]=a("div",{class:"text-body-1 text-disabled mb-1"}," OPTIONS ",-1)),a("div",Bt,[e(v,{class:"me-2",icon:"bx-bookmark",size:"20"}),i[6]||(i[6]=a("div",{class:"text-base"}," Add Tag ",-1))]),a("div",zt,[e(v,{class:"me-2",icon:"bx-star",size:"20"}),i[7]||(i[7]=a("div",{class:"text-base"}," Important Contact ",-1))]),a("div",Dt,[e(v,{class:"me-2",icon:"bx-image-alt",size:"20"}),i[8]||(i[8]=a("div",{class:"text-base"}," Shared Media ",-1))]),a("div",Mt,[e(v,{icon:"bx-block",class:"me-2",size:"20"}),i[9]||(i[9]=a("div",{class:"text-base"}," Block Contact ",-1))]),e(F,{block:"",color:"error","append-icon":"bx-trash",class:"mt-12"},{default:r(()=>i[10]||(i[10]=[P(" Delete Contact ")])),_:1,__:[10]})])]),_:1})],64)):A("",!0)}}}),Pt=et(Nt,[["__scopeId","data-v-40e4a111"]]),Ot={key:1},Lt={class:"flex-grow-1 ms-4 overflow-hidden"},Ft={class:"text-base text-high-emphasis mb-0"},Et={class:"mb-0 text-truncate text-body-2"},Rt={key:0,class:"d-flex flex-column align-self-start"},jt={class:"text-body-2 text-disabled whitespace-no-wrap"},tt=z({__name:"ChatContact",props:{isChatContact:{type:Boolean,default:!1},user:{}},setup(_){const s=_,n=M(),{resolveAvatarBadgeVariant:u}=L(),i=q(()=>{var m,o;const l=((m=n.activeChat)==null?void 0:m.contact.id)===s.user.id;return(s.isChatContact||!((o=n.activeChat)!=null&&o.chat))&&l});return(l,m)=>(d(),x("li",{key:t(n).chatsContacts.length,class:S(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":t(i)}])},[e(B,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:t(u)(s.user.status),bordered:"","model-value":s.isChatContact},{default:r(()=>[e(T,{variant:s.user.avatar?void 0:"tonal",color:s.user.avatar?void 0:t(u)(s.user.status)},{default:r(()=>[s.user.avatar?(d(),$(D,{key:0,src:s.user.avatar,alt:"John Doe"},null,8,["src"])):(d(),x("span",Ot,C(("avatarText"in l?l.avatarText:t(E))(l.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),a("div",Lt,[a("p",Ft,C(s.user.fullName),1),a("p",Et,C(s.isChatContact&&"chat"in s.user?s.user.chat.lastMessage.message:s.user.about),1)]),s.isChatContact&&"chat"in s.user?(d(),x("div",Rt,[a("div",jt,C(("formatDateToMonthShort"in l?l.formatDateToMonthShort:t(at))(s.user.chat.lastMessage.time)),1),s.user.chat.unseenMsgs?(d(),$(B,{key:0,color:"error",inline:"",content:s.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):A("",!0)])):A("",!0)],2))}}),Jt={key:0,class:"chat-list-header"},qt={class:"no-chat-items-text text-disabled"},Ht={class:"no-chat-items-text text-disabled"},Kt=z({__name:"ChatLeftSidebarContent",props:{search:{},isDrawerOpen:{type:Boolean}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(_,{emit:s}){const n=_,u=s,{resolveAvatarBadgeVariant:i}=L(),l=nt(n,"search",u),m=M();return(o,f)=>{const h=mt,p=R("IconBtn");return d(),x(U,null,[t(m).profileUser?(d(),x("div",Jt,[e(B,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:t(i)(t(m).profileUser.status),bordered:""},{default:r(()=>[e(T,{class:"cursor-pointer",onClick:f[0]||(f[0]=b=>o.$emit("showUserProfile"))},{default:r(()=>[e(D,{src:t(m).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),e(h,{id:"search",modelValue:t(l),"onUpdate:modelValue":f[1]||(f[1]=b=>k(l)?l.value=b:null),placeholder:"Search...",rounded:"","prepend-inner-icon":"bx-search",class:"ms-4 chat-list-search"},null,8,["modelValue"]),o.$vuetify.display.smAndDown?(d(),$(p,{key:0,onClick:f[2]||(f[2]=b=>o.$emit("close"))},{default:r(()=>[e(v,{icon:"bx-x",class:"text-medium-emphasis"})]),_:1})):A("",!0)])):A("",!0),e(st),e(t(j),{tag:"ul",class:"d-flex flex-column gap-y-1 chat-contacts-list px-3 py-2 list-none",options:{wheelPropagation:!1}},{default:r(()=>[f[3]||(f[3]=a("li",{class:"list-none"},[a("h5",{class:"chat-contact-header text-primary text-h5"}," Chats ")],-1)),(d(!0),x(U,null,O(t(m).chatsContacts,b=>(d(),$(tt,{key:`chat-${b.id}`,user:b,"is-chat-contact":"",onClick:I=>o.$emit("openChatOfContact",b.id)},null,8,["user","onClick"]))),128)),X(a("span",qt,"No chats found",512),[[Q,!t(m).chatsContacts.length]]),f[4]||(f[4]=a("li",{class:"list-none pt-3"},[a("h5",{class:"chat-contact-header text-primary text-h5"}," Contacts ")],-1)),(d(!0),x(U,null,O(t(m).contacts,b=>(d(),$(tt,{key:`chat-${b.id}`,user:b,onClick:I=>o.$emit("openChatOfContact",b.id)},null,8,["user","onClick"]))),128)),X(a("span",Ht,"No contacts found",512),[[Q,!t(m).contacts.length]])]),_:1,__:[3,4]})],64)}}}),Wt={class:"chat-log pa-6"},Xt={class:"mb-0 text-base"},Qt={class:"text-sm ms-2 text-disabled"},Yt=z({__name:"ChatLog",setup(_){const s=M(),n=q(()=>{var l,m;return{id:(l=s.activeChat)==null?void 0:l.contact.id,avatar:(m=s.activeChat)==null?void 0:m.contact.avatar}}),u=l=>l.isSeen?{icon:"bx-check-double",color:"success"}:l.isDelivered?{icon:"bx-check-double",color:void 0}:{icon:"bx-check",color:void 0},i=q(()=>{let l=[];const m=[];if(s.activeChat.chat){l=s.activeChat.chat.messages;let o=l[0].senderId,f={senderId:o,messages:[]};l.forEach((h,p)=>{o===h.senderId?f.messages.push({message:h.message,time:h.time,feedback:h.feedback}):(o=h.senderId,m.push(f),f={senderId:h.senderId,messages:[{message:h.message,time:h.time,feedback:h.feedback}]}),p===l.length-1&&m.push(f)})}return m});return(l,m)=>(d(),x("div",Wt,[(d(!0),x(U,null,O(t(i),(o,f)=>(d(),x("div",{key:o.senderId+String(f),class:S(["chat-group d-flex align-start",[{"flex-row-reverse":o.senderId!==t(n).id,"mb-6":t(i).length-1!==f}]])},[a("div",{class:S(["chat-avatar",o.senderId!==t(n).id?"ms-4":"me-4"])},[e(T,{size:"32"},{default:r(()=>{var h;return[e(D,{src:o.senderId===t(n).id?t(n).avatar:(h=t(s).profileUser)==null?void 0:h.avatar},null,8,["src"])]}),_:2},1024)],2),a("div",{class:S(["chat-body d-inline-flex flex-column",o.senderId!==t(n).id?"align-end":"align-start"])},[(d(!0),x(U,null,O(o.messages,(h,p)=>(d(),x("div",{key:h.time,class:S(["chat-content py-2 px-4 elevation-2",[o.senderId===t(n).id?"chat-left":"bg-primary text-white chat-right",o.messages.length-1!==p?"mb-2":"mb-1"]]),style:{"background-color":"rgb(var(--v-theme-surface))"}},[a("p",Xt,C(h.message),1)],2))),128)),a("div",{class:S({"text-right":o.senderId!==t(n).id})},[o.senderId!==t(n).id?(d(),$(v,{key:0,size:"16",color:u(o.messages[o.messages.length-1].feedback).color},{default:r(()=>[P(C(u(o.messages[o.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):A("",!0),a("span",Qt,C(("formatDate"in l?l.formatDate:t(ot))(o.messages[o.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}}),Zt={class:"chat-user-profile-close-button"},Gt={class:"text-center px-6 pb-6"},te={key:1,class:"text-3xl"},ee={class:"text-h5"},se={class:"text-capitalize text-body-1 mb-0"},ae={class:"mb-6 text-medium-emphasis"},oe={class:"mb-6"},ie={class:"text-medium-emphasis chat-settings-section"},ne={class:"d-flex align-center pa-2"},le={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},re={class:"d-flex align-center pa-2"},ce={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},de={class:"d-flex align-center pa-2"},ue={class:"d-flex align-center pa-2"},me=z({__name:"ChatUserProfileSidebarContent",emits:["close"],setup(_){const s=M(),{resolveAvatarBadgeVariant:n}=L(),u=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],i=w(!0),l=w(!1);return(m,o)=>{const f=R("IconBtn"),h=ht;return t(s).profileUser?(d(),x(U,{key:0},[a("div",Zt,[e(f,{onClick:o[0]||(o[0]=p=>m.$emit("close"))},{default:r(()=>[e(v,{class:"text-medium-emphasis",icon:"bx-x",size:"24"})]),_:1})]),a("div",Gt,[e(B,{location:"bottom right","offset-x":"13","offset-y":"7",bordered:"",color:t(n)(t(s).profileUser.status),class:"chat-user-profile-badge mb-4 mt-12"},{default:r(()=>[e(T,{size:"84",variant:t(s).profileUser.avatar?void 0:"tonal",color:t(s).profileUser.avatar?void 0:t(n)(t(s).profileUser.status)},{default:r(()=>[t(s).profileUser.avatar?(d(),$(D,{key:0,src:t(s).profileUser.avatar},null,8,["src"])):(d(),x("span",te,C(("avatarText"in m?m.avatarText:t(E))(t(s).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",ee,C(t(s).profileUser.fullName),1),a("p",se,C(t(s).profileUser.role),1)]),e(t(j),{class:"ps-chat-user-profile-sidebar-content pb-6 px-6",options:{wheelPropagation:!1}},{default:r(()=>[a("div",ae,[o[5]||(o[5]=a("div",{for:"textarea-user-about",class:"text-base text-disabled"}," ABOUT ",-1)),e(h,{id:"textarea-user-about",modelValue:t(s).profileUser.about,"onUpdate:modelValue":o[1]||(o[1]=p=>t(s).profileUser.about=p),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),a("div",oe,[o[6]||(o[6]=a("div",{class:"text-base text-disabled mb-1"}," STATUS ",-1)),e(pt,{modelValue:t(s).profileUser.status,"onUpdate:modelValue":o[2]||(o[2]=p=>t(s).profileUser.status=p)},{default:r(()=>[(d(),x(U,null,O(u,(p,b)=>e(ft,{id:`${b}`,key:p.title,name:p.title,label:p.title,value:p.value,color:p.color},null,8,["id","name","label","value","color"])),64))]),_:1},8,["modelValue"])]),a("div",ie,[o[11]||(o[11]=a("div",{class:"text-base text-disabled mb-1"}," SETTINGS ",-1)),a("div",ne,[e(v,{class:"me-2 text-high-emphasis",icon:"bx-lock-alt",size:"20"}),a("div",le,[o[7]||(o[7]=a("div",{class:"text-body-1 text-high-emphasis"}," Two-step Verification ",-1)),e(G,{id:"two-step-verification",modelValue:t(i),"onUpdate:modelValue":o[3]||(o[3]=p=>k(i)?i.value=p:null),density:"compact"},null,8,["modelValue"])])]),a("div",re,[e(v,{class:"me-2 text-high-emphasis",icon:"bx-bell",size:"20"}),a("div",ce,[o[8]||(o[8]=a("div",{class:"text-body-1 text-high-emphasis"}," Notification ",-1)),e(G,{id:"notification",modelValue:t(l),"onUpdate:modelValue":o[4]||(o[4]=p=>k(l)?l.value=p:null),density:"compact"},null,8,["modelValue"])])]),a("div",de,[e(v,{class:"me-2 text-high-emphasis",icon:"bx-user-plus",size:"20"}),o[9]||(o[9]=a("div",{class:"text-high-emphasis"}," Invite Friends ",-1))]),a("div",ue,[e(v,{class:"me-2 text-high-emphasis",icon:"bx-trash",size:"20"}),o[10]||(o[10]=a("div",{class:"text-high-emphasis"}," Delete Account ",-1))])]),e(F,{color:"primary",class:"mt-12",block:"","append-icon":"bx-log-out"},{default:r(()=>o[12]||(o[12]=[P(" Logout ")])),_:1,__:[12]})]),_:1})],64)):A("",!0)}}}),he=et(me,[["__scopeId","data-v-38fd6cb8"]]),pe={key:0,class:"d-flex flex-column h-100"},fe={class:"active-chat-header d-flex align-center text-medium-emphasis bg-surface"},ve={key:1},xe={class:"flex-grow-1 ms-4 overflow-hidden"},be={class:"text-h6 mb-0 font-weight-regular"},ge={class:"text-truncate mb-0 text-body-2"},Ce={class:"d-sm-flex align-center d-none text-medium-emphasis gap-1"},_e={class:"d-flex gap-1"},ye={key:1,class:"d-flex h-100 align-center justify-center flex-column"},$e={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},ns=z({__name:"chat",setup(_){const s=lt(),n=M(),{isLeftSidebarOpen:u}=vt(s.smAndDown),{resolveAvatarBadgeVariant:i}=L(),l=w(),m=()=>{const y=l.value.$el||l.value;y.scrollTop=y.scrollHeight},o=w("");rt(o,y=>n.fetchChatsAndContacts(y),{immediate:!0});const f=()=>{s.mdAndUp.value||(u.value=!0)},h=w(""),p=async()=>{h.value&&(await n.sendMsg(h.value),h.value="",Y(()=>{m()}))},b=async y=>{await n.getChat(y),h.value="";const c=n.chatsContacts.find(V=>V.id===y);c&&(c.chat.unseenMsgs=0),s.smAndDown.value&&(u.value=!1),Y(()=>{m()})},I=w(!1),N=w(!1),H=w();return(y,c)=>{const V=R("IconBtn");return d(),$(bt,{class:"chat-app-layout",style:{"z-index":"0"}},{default:r(()=>[e(J,{modelValue:t(I),"onUpdate:modelValue":c[1]||(c[1]=g=>k(I)?I.value=g:null),"data-allow-mismatch":"",temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",border:"none",width:"370"},{default:r(()=>[e(he,{onClose:c[0]||(c[0]=g=>I.value=!1)})]),_:1},8,["modelValue"]),e(J,{modelValue:t(N),"onUpdate:modelValue":c[3]||(c[3]=g=>k(N)?N.value=g:null),"data-allow-mismatch":"",width:"374",absolute:"",temporary:"",location:"end",border:"none",touchless:"",class:"active-chat-user-profile-sidebar"},{default:r(()=>[e(Pt,{onClose:c[2]||(c[2]=g=>N.value=!1)})]),_:1},8,["modelValue"]),e(J,{modelValue:t(u),"onUpdate:modelValue":c[8]||(c[8]=g=>k(u)?u.value=g:null),"data-allow-mismatch":"",absolute:"",touchless:"",location:"start",width:"370",temporary:y.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:y.$vuetify.display.mdAndUp},{default:r(()=>[e(Kt,{"is-drawer-open":t(u),"onUpdate:isDrawerOpen":c[4]||(c[4]=g=>k(u)?u.value=g:null),search:t(o),"onUpdate:search":c[5]||(c[5]=g=>k(o)?o.value=g:null),onOpenChatOfContact:b,onShowUserProfile:c[6]||(c[6]=g=>I.value=!0),onClose:c[7]||(c[7]=g=>u.value=!1)},null,8,["is-drawer-open","search"])]),_:1},8,["modelValue","temporary","permanent"]),e(xt,{class:"chat-content-container"},{default:r(()=>[t(n).activeChat?(d(),x("div",pe,[a("div",fe,[e(V,{class:"d-md-none me-3",onClick:c[9]||(c[9]=g=>u.value=!0)},{default:r(()=>[e(v,{icon:"bx-menu"})]),_:1}),a("div",{class:"d-flex align-center cursor-pointer",onClick:c[10]||(c[10]=g=>N.value=!0)},[e(B,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:t(i)(t(n).activeChat.contact.status),bordered:""},{default:r(()=>[e(T,{variant:t(n).activeChat.contact.avatar?void 0:"tonal",color:t(n).activeChat.contact.avatar?void 0:t(i)(t(n).activeChat.contact.status),class:"cursor-pointer"},{default:r(()=>[t(n).activeChat.contact.avatar?(d(),$(D,{key:0,src:t(n).activeChat.contact.avatar,alt:t(n).activeChat.contact.fullName},null,8,["src","alt"])):(d(),x("span",ve,C(("avatarText"in y?y.avatarText:t(E))(t(n).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("div",xe,[a("div",be,C(t(n).activeChat.contact.fullName),1),a("p",ge,C(t(n).activeChat.contact.role),1)])]),e(gt),a("div",Ce,[e(V,null,{default:r(()=>[e(v,{icon:"bx-phone"})]),_:1}),e(V,null,{default:r(()=>[e(v,{icon:"bx-video"})]),_:1}),e(V,null,{default:r(()=>[e(v,{icon:"bx-search"})]),_:1}),e(V,null,{default:r(()=>[e(v,{icon:"bx-dots-vertical-rounded"})]),_:1})])]),e(st),e(t(j),{ref_key:"chatLogPS",ref:l,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:r(()=>[e(Yt)]),_:1},512),e(Ct,{class:"chat-log-message-form mb-6 mx-6",onSubmit:ct(p,["prevent"])},{default:r(()=>{var g;return[(d(),$(_t,{key:(g=t(n).activeChat)==null?void 0:g.contact.id,modelValue:t(h),"onUpdate:modelValue":c[12]||(c[12]=K=>k(h)?h.value=K:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message",autofocus:""},{"append-inner":r(()=>[a("div",_e,[e(V,null,{default:r(()=>[e(v,{icon:"bx-microphone",class:"text-high-emphasis"})]),_:1}),e(V,{onClick:c[11]||(c[11]=K=>{var W;return(W=t(H))==null?void 0:W.click()})},{default:r(()=>[e(v,{icon:"bx-paperclip",class:"text-high-emphasis"})]),_:1}),e(F,{onClick:p},{append:r(()=>[e(v,{icon:"bx-paper-plane",color:"#fff"})]),default:r(()=>[c[13]||(c[13]=P(" Send "))]),_:1,__:[13]})])]),_:1},8,["modelValue"])),a("input",{ref_key:"refInputEl",ref:H,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(d(),x("div",ye,[e(T,{size:"98",variant:"tonal",color:"primary",class:"mb-4"},{default:r(()=>[e(v,{size:"50",class:"rounded-0",icon:"bx-message-rounded"})]),_:1}),y.$vuetify.display.smAndDown?(d(),$(F,{key:0,rounded:"pill",onClick:f},{default:r(()=>c[14]||(c[14]=[P(" Start Conversation ")])),_:1,__:[14]})):(d(),x("p",$e," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1})}}});export{ns as default};
