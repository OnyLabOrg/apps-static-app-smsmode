import{$ as a}from"./TranslationUtil-B606p0FM.js";import{c as N}from"./common-api.web.min-CNoIadEv.js";import{V as c,c as $}from"./VCard-TCpTMKi2.js";import{V as _}from"./VChip-iTx-LGp3.js";import{V as H}from"./VDivider-CUnWTeN4.js";import{V as y}from"./VCardText-C48XgJ5F.js";import{V,a as v}from"./VRow-Ch4uDk95.js";import{V as S,a as f,b as q,d as F}from"./VList-lqSkk-cC.js";import{V as T}from"./VTable-WkGQlDnG.js";import{d as P,g,f as l,o,b as d,e as r,v as t,m as n,t as i,l as p,c as u,F as b,i as k,$ as U}from"./index-DZWVFJEj.js";import{V as W,a as Y}from"./VAlert-BuDCQRcT.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VAvatar-D6Rg-emN.js";import"./VImg-5sgcKXtd.js";import"./transition-BA0PS-dL.js";import"./index-Oc9DpuAO.js";import"./VSlideGroup-CsXjT706.js";/* empty css              */import"./ssrBoot-DBwgn1Yl.js";const J={class:"text-h5"},K={class:"text-h6"},M={class:"text-right"},Q={key:0},X={class:"text-center"},Z={class:"text-right"},x={class:"text-right"},ee={class:"text-right"},te={key:0},re={key:1,class:"text-grey"},le={key:0,class:"text-caption text-grey"},se={key:1,class:"text-caption mt-1"},ae={key:0},de={key:2,class:"text-caption text-warning mt-1"},ne={class:"text-center"},oe={class:"text-right"},ie={class:"text-right"},ue={class:"text-right"},pe={class:"text-right"},ge={key:1},me={class:"text-right text-success"},fe={class:"text-right"},ce={class:"text-right"},$e={key:1},ye={class:"text-right"},he={class:"text-right"},_e={class:"text-right"},be={key:1},ke={class:"text-right"},ve={class:"bg-grey-lighten-4"},Ve={class:"text-right",colspan:"3"},Te={class:"text-right"},Ce={class:"text-h6"},Ne={key:0},Se={key:0,class:"mb-2"},Ae={key:1},Le=P({__name:"card-order-details",props:{order:{}},setup(L){const w=L,I=e=>({new:"blue",accepted:"green",in_preparation:"orange",awaiting_shipment:"purple",awaiting_collection:"cyan",in_delivery:"indigo",completed:"success",rejected:"error",cancelled:"grey"})[e]||"grey",D=e=>a(`page.order.list.status.${String(e)}`),R=e=>{let m;switch(e){case N.Api.HubriseServiceType.DELIVERY:m="ðŸšš";break;case N.Api.HubriseServiceType.COLLECTION:m="ðŸª";break;case N.Api.HubriseServiceType.EAT_IN:m="ðŸ½";break}return`${m} ${a(`page.order.list.serviceType.${String(e)}`)}`},z=e=>a(`page.order.list.charge.${String(e)}`),E=e=>a(`page.order.list.payment.${String(e)}`),B=e=>a(`page.order.list.pricing.${String(e)}`),C=e=>new Date(e).toLocaleString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),O=()=>{const{first_name:e,last_name:m}=w.order.customer;return e&&m?`${e} ${m}`:e||m||""};return(e,m)=>(o(),g(c,{class:"order-display"},{default:l(()=>[d($,{class:"d-flex justify-space-between align-center"},{default:l(()=>[r("div",null,[r("span",J,t(("$t"in e?e.$t:n(a))("page.order.list.detail.order"))+" #"+t(e.order.id),1),d(_,{color:I(e.order.status),class:"ms-2",size:"small"},{default:l(()=>[i(t(D(e.order.status)),1)]),_:1},8,["color"])]),r("div",K,t(e.order.total),1)]),_:1}),d(H),d(y,null,{default:l(()=>{var A;return[d(V,null,{default:l(()=>[d(v,{cols:"12",md:"6"},{default:l(()=>[d(c,{class:"mb-4",variant:"outlined"},{default:l(()=>[d($,{class:"text-subtitle-1 bg-grey-lighten-4"},{default:l(()=>[i(" ðŸ“‹ "+t(("$t"in e?e.$t:n(a))("page.order.list.detail.orderInfo")),1)]),_:1}),d(y,null,{default:l(()=>[d(S,{density:"compact"},{default:l(()=>[e.order.private_ref?(o(),g(f,{key:0},{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.privateRef")),1)]),append:l(()=>[i(t(e.order.private_ref),1)]),_:1})):p("",!0),d(f,null,{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.serviceType")),1)]),append:l(()=>[i(t(R(e.order.service_type)),1)]),_:1}),d(f,null,{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.createdBy")),1)]),append:l(()=>[i(t(e.order.created_by),1)]),_:1}),d(f,null,{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.createdAt")),1)]),append:l(()=>[i(t(C(e.order.created_at)),1)]),_:1}),d(f,null,{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.expectedTime")),1)]),append:l(()=>[i(t(C(e.order.expected_time)),1)]),_:1}),e.order.confirmed_time?(o(),g(f,{key:1},{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.confirmedTime")),1)]),append:l(()=>[i(t(C(e.order.confirmed_time)),1)]),_:1})):p("",!0),e.order.collection_code?(o(),g(f,{key:2},{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.collectionCode")),1)]),append:l(()=>[d(_,{color:"primary",size:"small"},{default:l(()=>[i(t(e.order.collection_code),1)]),_:1})]),_:1})):p("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),d(v,{cols:"12",md:"6"},{default:l(()=>[d(c,{class:"mb-4",variant:"outlined"},{default:l(()=>[d($,{class:"text-subtitle-1 bg-grey-lighten-4"},{default:l(()=>[i(" ðŸ‘¤ "+t(("$t"in e?e.$t:n(a))("page.order.list.detail.customer")),1)]),_:1}),d(y,null,{default:l(()=>[d(S,{density:"compact"},{default:l(()=>[d(f,null,{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.customerName")),1)]),append:l(()=>[i(t(O()||"N/A"),1)]),_:1}),e.order.customer.company_name?(o(),g(f,{key:0},{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.company")),1)]),append:l(()=>[i(t(e.order.customer.company_name),1)]),_:1})):p("",!0),d(f,null,{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.phone")),1)]),append:l(()=>[i(t(e.order.customer.phone||"N/A"),1)]),_:1}),d(f,null,{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.email")),1)]),append:l(()=>[i(t(e.order.customer.email||"N/A"),1)]),_:1}),e.order.customer.address_1?(o(),g(f,{key:1},{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.address")),1)]),append:l(()=>[r("div",M,[r("div",null,t(e.order.customer.address_1),1),e.order.customer.address_2?(o(),u("div",Q,t(e.order.customer.address_2),1)):p("",!0),r("div",null,t(e.order.customer.postal_code)+" "+t(e.order.customer.city),1),r("div",null,t(e.order.customer.country),1)])]),_:1})):p("",!0),d(f,null,{prepend:l(()=>[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.totalOrders")),1)]),append:l(()=>[i(t(e.order.customer.nb_orders),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d(c,{class:"mb-4",variant:"outlined"},{default:l(()=>[d($,{class:"text-subtitle-1 bg-grey-lighten-4"},{default:l(()=>[i(" ðŸ›’ "+t(("$t"in e?e.$t:n(a))("page.order.list.detail.items"))+" ("+t(e.order.items.filter(s=>!s.deleted).length)+") ",1)]),_:1}),d(y,{class:"pa-0"},{default:l(()=>[d(T,{density:"comfortable"},{default:l(()=>[r("thead",null,[r("tr",null,[r("th",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.sku")),1),r("th",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.product")),1),r("th",X,t(("$t"in e?e.$t:n(a))("page.order.list.detail.quantity")),1),r("th",Z,t(("$t"in e?e.$t:n(a))("page.order.list.detail.taxRate")),1),r("th",x,t(("$t"in e?e.$t:n(a))("page.order.list.detail.price")),1),r("th",ee,t(("$t"in e?e.$t:n(a))("page.order.list.detail.subtotal")),1)])]),r("tbody",null,[(o(!0),u(b,null,k(e.order.items,s=>(o(),u(b,{key:s.id},[s.deleted?p("",!0):(o(),u("tr",te,[r("td",null,[s.sku_ref?(o(),g(_,{key:0,size:"small"},{default:l(()=>[i(t(s.sku_ref),1)]),_:2},1024)):(o(),u("span",re,"-"))]),r("td",null,[r("div",null,[r("strong",null,t(s.product_name),1),s.deal_line?(o(),g(_,{key:0,class:"ms-2",color:"success",size:"x-small"},{default:l(()=>m[0]||(m[0]=[i(" Deal ")])),_:1,__:[0]})):p("",!0)]),s.sku_name?(o(),u("div",le,t(s.sku_name),1)):p("",!0),s.options&&s.options.length>0?(o(),u("div",se,[(o(!0),u(b,null,k(s.options,(h,j)=>(o(),u("div",{key:j,class:"text-grey-darken-1"},[i(" â€¢ "+t(h.option_list_name)+": "+t(h.name)+" ",1),h.price?(o(),u("span",ae,"("+t(h.price)+")",1)):p("",!0)]))),128))])):p("",!0),s.customer_notes?(o(),u("div",de," ðŸ“ "+t(s.customer_notes),1)):p("",!0)]),r("td",ne,t(s.quantity),1),r("td",oe,t(s.tax_rate?`${s.tax_rate}%`:"-"),1),r("td",ie,t(s.price),1),r("td",ue,[r("strong",null,t(s.subtotal),1)])]))],64))),128))])]),_:1})]),_:1})]),_:1}),Object.keys(e.order.deals||{}).length>0?(o(),g(c,{key:0,class:"mb-4",variant:"outlined"},{default:l(()=>[d($,{class:"text-subtitle-1 bg-success-lighten-4"},{default:l(()=>[i(" ðŸŽ‰ "+t(("$t"in e?e.$t:n(a))("page.order.list.detail.deals")),1)]),_:1}),d(y,null,{default:l(()=>[d(S,{density:"compact"},{default:l(()=>[(o(!0),u(b,null,k(e.order.deals,(s,h)=>(o(),g(f,{key:h},{prepend:l(()=>[d(U,{color:"success"},{default:l(()=>m[1]||(m[1]=[i(" mdi-tag ")])),_:1,__:[1]})]),default:l(()=>[d(q,null,{default:l(()=>[i(t(s.name),1)]),_:2},1024),s.ref?(o(),g(F,{key:0},{default:l(()=>[i(t(("$t"in e?e.$t:n(a))("page.order.list.detail.ref"))+" "+t(s.ref),1)]),_:2},1024)):p("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):p("",!0),e.order.discounts&&e.order.discounts.filter(s=>!s.deleted).length>0?(o(),g(c,{key:1,class:"mb-4",variant:"outlined"},{default:l(()=>[d($,{class:"text-subtitle-1 bg-green-lighten-4"},{default:l(()=>[i(" ðŸ’° "+t(("$t"in e?e.$t:n(a))("page.order.list.detail.discounts")),1)]),_:1}),d(y,{class:"pa-0"},{default:l(()=>[d(T,{density:"comfortable"},{default:l(()=>[r("thead",null,[r("tr",null,[r("th",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.discountName")),1),r("th",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.discountReference")),1),r("th",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.discountType")),1),r("th",pe,t(("$t"in e?e.$t:n(a))("page.order.list.detail.discountAmount")),1)])]),r("tbody",null,[(o(!0),u(b,null,k(e.order.discounts.filter(s=>!s.deleted),s=>(o(),u("tr",{key:s.id},[r("td",null,[r("strong",null,t(s.name),1)]),r("td",null,[s.ref?(o(),g(_,{key:0,size:"x-small"},{default:l(()=>[i(t(s.ref),1)]),_:2},1024)):(o(),u("span",ge,"-"))]),r("td",null,t(B(s.pricing_effect)),1),r("td",me,[r("strong",null,"-"+t(s.price_off||s.pricing_value),1)])]))),128))])]),_:1})]),_:1})]),_:1})):p("",!0),e.order.charges&&e.order.charges.filter(s=>!s.deleted).length>0?(o(),g(c,{key:2,class:"mb-4",variant:"outlined"},{default:l(()=>[d($,{class:"text-subtitle-1 bg-orange-lighten-4"},{default:l(()=>[i(" ðŸ’³ "+t(("$t"in e?e.$t:n(a))("page.order.list.detail.charges")),1)]),_:1}),d(y,{class:"pa-0"},{default:l(()=>[d(T,{density:"comfortable"},{default:l(()=>[r("thead",null,[r("tr",null,[r("th",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.chargeName")),1),r("th",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.chargeReference")),1),r("th",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.chargeType")),1),r("th",fe,t(("$t"in e?e.$t:n(a))("page.order.list.detail.chargeTaxRate")),1),r("th",ce,t(("$t"in e?e.$t:n(a))("page.order.list.detail.chargeAmount")),1)])]),r("tbody",null,[(o(!0),u(b,null,k(e.order.charges.filter(s=>!s.deleted),s=>(o(),u("tr",{key:s.id},[r("td",null,[r("strong",null,t(s.name),1)]),r("td",null,[s.ref?(o(),g(_,{key:0,size:"x-small"},{default:l(()=>[i(t(s.ref),1)]),_:2},1024)):(o(),u("span",$e,"-"))]),r("td",null,t(z(s.type)),1),r("td",ye,t(s.tax_rate?`${s.tax_rate}%`:"-"),1),r("td",he,[r("strong",null,t(s.price),1)])]))),128))])]),_:1})]),_:1})]),_:1})):p("",!0),e.order.payments&&e.order.payments.filter(s=>!s.deleted).length>0?(o(),g(c,{key:3,class:"mb-4",variant:"outlined"},{default:l(()=>[d($,{class:"text-subtitle-1 bg-blue-lighten-4"},{default:l(()=>[i(" ðŸ’µ "+t(("$t"in e?e.$t:n(a))("page.order.list.detail.payments")),1)]),_:1}),d(y,{class:"pa-0"},{default:l(()=>[d(T,{density:"comfortable"},{default:l(()=>[r("thead",null,[r("tr",null,[r("th",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.paymentName")),1),r("th",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.paymentReference")),1),r("th",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.paymentType")),1),r("th",_e,t(("$t"in e?e.$t:n(a))("page.order.list.detail.paymentAmount")),1)])]),r("tbody",null,[(o(!0),u(b,null,k(e.order.payments.filter(s=>!s.deleted),s=>(o(),u("tr",{key:s.id},[r("td",null,[r("strong",null,t(s.name),1)]),r("td",null,[s.ref?(o(),g(_,{key:0,size:"x-small"},{default:l(()=>[i(t(s.ref),1)]),_:2},1024)):(o(),u("span",be,"-"))]),r("td",null,t(E(s.type)),1),r("td",ke,[r("strong",null,t(s.amount),1)])]))),128))]),r("tfoot",null,[r("tr",ve,[r("td",Ve,[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.total")),1)]),r("td",Te,[r("strong",Ce,t(e.order.total),1)])])])]),_:1})]),_:1})]),_:1})):p("",!0),e.order.payment_discrepancy&&!((A=e.order.payment_discrepancy)!=null&&A.startsWith("0.00"))?(o(),g(V,{key:4},{default:l(()=>[d(v,{cols:"12"},{default:l(()=>[d(W,{type:"warning",variant:"tonal"},{default:l(()=>[d(Y,null,{default:l(()=>[i(t(("$t"in e?e.$t:n(a))("page.order.list.detail.paymentDiscrepancy")),1)]),_:1}),r("div",null,[r("strong",null,t(e.order.payment_discrepancy),1)]),e.order.total_discrepancy?(o(),u("div",Ne,[i(t(("$t"in e?e.$t:n(a))("page.order.list.detail.total"))+" ",1),r("strong",null,t(e.order.total_discrepancy),1)])):p("",!0)]),_:1})]),_:1})]),_:1})):p("",!0),e.order.customer_notes||e.order.seller_notes?(o(),g(V,{key:5},{default:l(()=>[d(v,{cols:"12"},{default:l(()=>[d(c,{variant:"outlined"},{default:l(()=>[d($,{class:"text-subtitle-1 bg-grey-lighten-4"},{default:l(()=>[i(" ðŸ“ "+t(("$t"in e?e.$t:n(a))("page.order.list.detail.notes")),1)]),_:1}),d(y,null,{default:l(()=>[e.order.customer_notes?(o(),u("div",Se,[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.customerNotes")),1),i(" "+t(e.order.customer_notes),1)])):p("",!0),e.order.seller_notes?(o(),u("div",Ae,[r("strong",null,t(("$t"in e?e.$t:n(a))("page.order.list.detail.sellerNotes")),1),i(" "+t(e.order.seller_notes),1)])):p("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):p("",!0),e.order.coupon_codes&&e.order.coupon_codes.length>0?(o(),g(V,{key:6},{default:l(()=>[d(v,{cols:"12"},{default:l(()=>[d(c,{variant:"outlined"},{default:l(()=>[d($,{class:"text-subtitle-1 bg-grey-lighten-4"},{default:l(()=>[i(" ðŸŽŸï¸ "+t(("$t"in e?e.$t:n(a))("page.order.list.detail.couponCodes")),1)]),_:1}),d(y,null,{default:l(()=>[(o(!0),u(b,null,k(e.order.coupon_codes,(s,h)=>(o(),g(_,{key:h,class:"me-2",color:"primary",variant:"outlined"},{default:l(()=>[i(t(s),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})):p("",!0)]}),_:1})]),_:1}))}}),Me=G(Le,[["__scopeId","data-v-3acaf230"]]);export{Me as default};
