import{a as H}from"./formatters-Bnv68_Nh.js";import{_ as J}from"./TablePagination.vue_vue_type_script_setup_true_lang-PQnK5EVS.js";import{_ as K}from"./MoreBtn.vue_vue_type_script_setup_true_lang-D4Cb5xE6.js";import{_ as Y}from"./AppTextField.vue_vue_type_script_setup_true_lang-BepRHtfL.js";import{_ as Z}from"./AppSelect.vue_vue_type_script_setup_true_lang-BQHnBRv5.js";import{u as ee}from"./useApi-CSm7-o2_.js";import{c as te}from"./createUrl-Buqh_hSk.js";import{$ as ae}from"./api-BEunVx5r.js";import{V as I,c as oe}from"./VCard-NIrRrA9M.js";import{V as E}from"./VCardText-51u1fWz-.js";import{V as ie,a as le}from"./VRow-DcAkoV74.js";import{V as $}from"./VAvatar-Ezomk3Rh.js";import{d as se,r as p,bb as ne,X as D,c as _,m as l,b as a,f as o,a as L,o as r,F as R,i as re,g as C,l as ce,e as s,x as pe,v as n,$ as k,ai as de,t as v,aW as x,q as ue}from"./index-BeBG7se5.js";import{V as F}from"./VDivider-DAIpLJuN.js";import{V as me}from"./VDataTableServer-CupQgCKW.js";import{V as ve}from"./VChip-BDq-4ie3.js";import{V as fe}from"./VImg-0KjYhfmJ.js";import{V as _e}from"./VTooltip-DT2P1Zrc.js";import"./helpers-BGv4x_9E.js";import"./VPagination-BArFZQKZ.js";import"./VMenu-CeIo03Bj.js";import"./VOverlay-C9gJ4TBz.js";import"./easing-Bybner-F.js";import"./delay-t-efVJDY.js";import"./lazy-Cc9O5wjm.js";import"./scopeId-B5g1BDC2.js";import"./transition-BDOC5Uc_.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-NetQuTSg.js";import"./VList-BnZB7mVK.js";import"./ssrBoot-Bjtt1dD1.js";import"./VTextField-SYXXouzY.js";/* empty css                   */import"./VCounter-DbvhImLE.js";import"./VField-CdT2DSY3.js";import"./form-J-oGqMJG.js";import"./VInput-ClLzGKQK.js";import"./index-DuS_zm-5.js";import"./VSelect-PHQB3_T7.js";import"./VCheckboxBtn-CpSTl8MR.js";import"./VSelectionControl-CZNs0_kI.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VDataTable-JiAcfOGQ.js";import"./VTable-DeyH6lV0.js";import"./filter-DMj4q03Q.js";import"./VSlideGroup-JwXo4N0h.js";const xe={key:0},be={class:"d-flex flex-column"},ye={class:"text-h4"},ge={class:"text-body-1 text-capitalize"},he={class:"d-flex gap-4 align-center flex-wrap"},Ve={class:"d-flex align-center gap-2"},ke={class:"d-flex align-center flex-wrap gap-4"},we={class:"invoice-list-filter",style:{"inline-size":"12.5rem"}},Ie={class:"invoice-list-filter",style:{"inline-size":"10rem"}},$e={class:"mb-0"},De={class:"mb-0"},Ce={class:"mb-0"},Pe={class:"d-flex align-center"},Be={key:1},Se={class:"d-flex flex-column"},Ue={class:"text-sm text-medium-emphasis"},Te={key:1,class:"text-base text-high-emphasis"},ze={key:1},Pt=se({__name:"index",async setup(Ae){let y,P;const g=p(""),h=p(null),b=p([]),d=p(10),u=p(1),B=p(),S=p(),q=i=>{var t,m;B.value=(t=i.sortBy[0])==null?void 0:t.key,S.value=(m=i.sortBy[0])==null?void 0:m.order},V=p([{title:"Clients",value:24,icon:"bx-user"},{title:"Invoices",value:165,icon:"bx-file"},{title:"Paid",value:"$2.46k",icon:"bx-check-double"},{title:"Unpaid",value:"$876",icon:"bx-error-circle"}]),M=[{title:"#",key:"id"},{title:"Status",key:"status",sortable:!1},{title:"Client",key:"client"},{title:"Total",key:"total"},{title:"Issued Date",key:"date"},{title:"Balance",key:"balance"},{title:"Actions",key:"actions",sortable:!1}],{data:U,execute:j}=([y,P]=ne(()=>ee(te("/apps/invoice",{query:{q:g,status:h,itemsPerPage:d,page:u,sortBy:B,orderBy:S}}))),y=await y,P(),y),T=D(()=>U.value.invoices),z=D(()=>U.value.totalInvoices),f=(i,t)=>i===t?{status:"Unpaid",chip:{color:"error"}}:i===0?{status:"Paid",chip:{color:"success"}}:{status:i,chip:{variant:"text"}},w=i=>i==="Partial Payment"?{variant:"warning",icon:"bx-pie-chart-alt"}:i==="Paid"?{variant:"success",icon:"bx-check"}:i==="Downloaded"?{variant:"info",icon:"bx-down-arrow-alt"}:i==="Draft"?{variant:"primary",icon:"bx-folder"}:i==="Sent"?{variant:"secondary",icon:"bx-envelope"}:i==="Past Due"?{variant:"error",icon:"bx-help-circle"}:{variant:"secondary",icon:"bx-x"},O=D(()=>i=>[{title:"Download",value:"download",prependIcon:"bx-download"},{title:"Edit",value:"edit",prependIcon:"bx-pencil",to:{name:"apps-invoice-edit-id",params:{id:i}}},{title:"Duplicate",value:"duplicate",prependIcon:"bx-duplicate"}]),Q=async i=>{await ae(`/apps/invoice/${i}`,{method:"DELETE"});const t=b.value.findIndex(m=>m===i);t!==-1&&b.value.splice(t,1),j()};return(i,t)=>{const m=Z,W=Y,A=L("RouterLink"),N=L("IconBtn"),X=K,G=J;return l(T)?(r(),_("section",xe,[a(I,{class:"mb-6"},{default:o(()=>[a(E,{class:"px-3"},{default:o(()=>[a(ie,null,{default:o(()=>[(r(!0),_(R,null,re(l(V),(e,c)=>(r(),_(R,{key:c},[a(le,{cols:"12",sm:"6",md:"3",class:"px-6"},{default:o(()=>[s("div",{class:pe(["d-flex justify-space-between align-center",i.$vuetify.display.xs?c!==l(V).length-1?"border-b pb-4":"":i.$vuetify.display.sm&&c<l(V).length/2?"border-b pb-4":""])},[s("div",be,[s("h4",ye,n(e.value),1),s("span",ge,n(e.title),1)]),a($,{variant:"tonal",rounded:"",size:"42"},{default:o(()=>[a(k,{icon:e.icon,size:"26",color:"high-emphasis"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1024),(i.$vuetify.display.mdAndUp?c!==l(V).length-1:i.$vuetify.display.smAndUp&&c%2===0)?(r(),C(F,{key:0,vertical:"",inset:"",length:"60"})):ce("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),a(I,{id:"invoice-list"},{default:o(()=>[a(E,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:o(()=>[s("div",he,[s("div",Ve,[t[7]||(t[7]=s("span",null,"Show",-1)),a(m,{"model-value":l(d),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=parseInt(e,10))},null,8,["model-value"])]),a(de,{"prepend-icon":"bx-plus",to:{name:"apps-invoice-add"}},{default:o(()=>t[8]||(t[8]=[v(" Create invoice ")])),_:1,__:[8]})]),s("div",ke,[s("div",we,[a(W,{modelValue:l(g),"onUpdate:modelValue":t[1]||(t[1]=e=>x(g)?g.value=e:null),placeholder:"Search Invoice"},null,8,["modelValue"])]),s("div",Ie,[a(m,{modelValue:l(h),"onUpdate:modelValue":t[2]||(t[2]=e=>x(h)?h.value=e:null),placeholder:"Invoice Status",clearable:"","clear-icon":"bx-x","single-line":"",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])])])]),_:1}),a(F),a(me,{"model-value":l(b),"onUpdate:modelValue":t[4]||(t[4]=e=>x(b)?b.value=e:null),"items-per-page":l(d),"onUpdate:itemsPerPage":t[5]||(t[5]=e=>x(d)?d.value=e:null),page:l(u),"onUpdate:page":t[6]||(t[6]=e=>x(u)?u.value=e:null),"show-select":"","items-length":l(z),headers:M,items:l(T),"item-value":"id",class:"text-no-wrap","onUpdate:options":q},{"item.id":o(({item:e})=>[a(A,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:o(()=>[v(" #"+n(e.id),1)]),_:2},1032,["to"])]),"item.status":o(({item:e})=>[a(_e,null,{activator:o(({props:c})=>[a($,ue({size:28},c,{color:w(e.invoiceStatus).variant,variant:"tonal"}),{default:o(()=>[a(k,{size:16,icon:w(e.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:o(()=>[s("p",$e,n(e.invoiceStatus),1),s("p",De," Balance: "+n(e.balance),1),s("p",Ce," Due date: "+n(e.dueDate),1)]),_:2},1024)]),"item.client":o(({item:e})=>[s("div",Pe,[a($,{size:"34",color:e.avatar.length?void 0:w(e.invoiceStatus).variant,variant:e.avatar.length?void 0:"tonal",class:"me-3"},{default:o(()=>[e.avatar.length?(r(),C(fe,{key:0,src:e.avatar},null,8,["src"])):(r(),_("span",Be,n(("avatarText"in i?i.avatarText:l(H))(e.client.name)),1))]),_:2},1032,["color","variant"]),s("div",Se,[a(A,{to:{name:"pages-user-profile-tab",params:{tab:"profile"}},class:"text-link font-weight-medium",style:{"line-height":"1.375rem"}},{default:o(()=>[v(n(e.client.name),1)]),_:2},1024),s("span",Ue,n(e.client.companyEmail),1)])])]),"item.total":o(({item:e})=>[v(" $"+n(e.total),1)]),"item.date":o(({item:e})=>[v(n(e.issuedDate),1)]),"item.balance":o(({item:e})=>[typeof f(e.balance,e.total).status=="string"?(r(),C(ve,{key:0,color:f(e.balance,e.total).chip.color,label:"",size:"small"},{default:o(()=>[v(n(f(e.balance,e.total).status),1)]),_:2},1032,["color"])):(r(),_("span",Te,n(Number(f(e.balance,e.total).status)>0?`$${f(e.balance,e.total).status}`:`-$${Math.abs(Number(f(e.balance,e.total).status))}`),1))]),"item.actions":o(({item:e})=>[a(N,{onClick:c=>Q(e.id)},{default:o(()=>[a(k,{icon:"bx-trash"})]),_:2},1032,["onClick"]),a(N,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:o(()=>[a(k,{icon:"bx-show"})]),_:2},1032,["to"]),a(X,{"menu-list":l(O)(e.id),"item-props":"",class:"text-medium-emphasis"},null,8,["menu-list"])]),bottom:o(()=>[a(G,{page:l(u),"onUpdate:page":t[3]||(t[3]=e=>x(u)?u.value=e:null),"items-per-page":l(d),"total-items":l(z)},null,8,["page","items-per-page","total-items"])]),_:1},8,["model-value","items-per-page","page","items-length","items"])]),_:1})])):(r(),_("section",ze,[a(I,null,{default:o(()=>[a(oe,null,{default:o(()=>t[9]||(t[9]=[v("No Invoice Found")])),_:1,__:[9]})]),_:1})]))}}});export{Pt as default};
