import{u as j,a as z,m as D,g as I,V as G,b as w}from"./VSliderTrack-CIRRaRtq.js";import{V as B,m as H}from"./VInput-DHdE5SuR.js";import{u as K,m as Q,V as W}from"./form-Ugpf33Uc.js";import{aq as Y,a3 as Z,r as y,aJ as ee,aI as ae,X as C,a8 as le,b as c,q as ue,F as te}from"./index-9shWMfiu.js";const se=Z({...Q(),...H(),...D(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),re=Y()({name:"VRangeSlider",props:se(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,O){let{slots:t,emit:k}=O;const d=y(),i=y(),q=y(),{rtlClasses:A}=ee();function L(s){if(!d.value||!i.value)return;const n=I(s,d.value.$el,e.direction),u=I(s,i.value.$el,e.direction),l=Math.abs(n),v=Math.abs(u);return l<v||l===v&&n<0?d.value.$el:i.value.$el}const R=j(e),a=ae(e,"modelValue",void 0,s=>s!=null&&s.length?s.map(n=>R.roundValue(n)):[0,0]),{activeThumbRef:r,hasLabels:U,max:g,min:m,mousePressed:E,onSliderMousedown:J,onSliderTouchstart:N,position:P,trackContainerRef:X,readonly:T}=z({props:e,steps:R,onSliderStart:()=>{k("start",a.value)},onSliderEnd:s=>{var l;let{value:n}=s;const u=r.value===((l=d.value)==null?void 0:l.$el)?[n,a.value[1]]:[a.value[0],n];!e.strict&&u[0]<u[1]&&(a.value=u),k("end",a.value)},onSliderMove:s=>{var v,f,b,o;let{value:n}=s;const[u,l]=a.value;!e.strict&&u===l&&u!==m.value&&(r.value=n>u?(v=i.value)==null?void 0:v.$el:(f=d.value)==null?void 0:f.$el,(b=r.value)==null||b.focus()),r.value===((o=d.value)==null?void 0:o.$el)?a.value=[Math.min(n,l),l]:a.value=[u,Math.max(u,n)]},getActiveThumb:L}),{isFocused:p,focus:x,blur:F}=K(e),M=C(()=>P(a.value[0])),_=C(()=>P(a.value[1]));return le(()=>{const s=B.filterProps(e),n=!!(e.label||t.label||t.prepend);return c(B,ue({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!t["tick-label"]||U.value,"v-slider--focused":p.value,"v-slider--pressed":E.value,"v-slider--disabled":e.disabled},A.value,e.class],style:e.style,ref:q},s,{focused:p.value}),{...t,prepend:n?u=>{var l,v;return c(te,null,[((l=t.label)==null?void 0:l.call(t,u))??(e.label?c(W,{class:"v-slider__label",text:e.label},null):void 0),(v=t.prepend)==null?void 0:v.call(t,u)])}:void 0,default:u=>{var f,b;let{id:l,messagesId:v}=u;return c("div",{class:"v-slider__container",onMousedown:T.value?void 0:J,onTouchstartPassive:T.value?void 0:N},[c("input",{id:`${l.value}_start`,name:e.name||l.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:a.value[0]},null),c("input",{id:`${l.value}_stop`,name:e.name||l.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:a.value[1]},null),c(G,{ref:X,start:M.value,stop:_.value},{"tick-label":t["tick-label"]}),c(w,{ref:d,"aria-describedby":v.value,focused:p&&r.value===((f=d.value)==null?void 0:f.$el),modelValue:a.value[0],"onUpdate:modelValue":o=>a.value=[o,a.value[1]],onFocus:o=>{var V,$,h,S;x(),r.value=(V=d.value)==null?void 0:V.$el,g.value!==m.value&&a.value[0]===a.value[1]&&a.value[1]===m.value&&o.relatedTarget!==(($=i.value)==null?void 0:$.$el)&&((h=d.value)==null||h.$el.blur(),(S=i.value)==null||S.$el.focus())},onBlur:()=>{F(),r.value=void 0},min:m.value,max:a.value[1],position:M.value,ripple:e.ripple},{"thumb-label":t["thumb-label"]}),c(w,{ref:i,"aria-describedby":v.value,focused:p&&r.value===((b=i.value)==null?void 0:b.$el),modelValue:a.value[1],"onUpdate:modelValue":o=>a.value=[a.value[0],o],onFocus:o=>{var V,$,h,S;x(),r.value=(V=i.value)==null?void 0:V.$el,g.value!==m.value&&a.value[0]===a.value[1]&&a.value[0]===g.value&&o.relatedTarget!==(($=d.value)==null?void 0:$.$el)&&((h=i.value)==null||h.$el.blur(),(S=d.value)==null||S.$el.focus())},onBlur:()=>{F(),r.value=void 0},min:a.value[0],max:g.value,position:_.value,ripple:e.ripple},{"thumb-label":t["thumb-label"]})])}})}),{}}});export{re as V};
