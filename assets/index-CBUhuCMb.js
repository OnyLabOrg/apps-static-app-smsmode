import{p as ae,a as ie}from"./formatters-Bnv68_Nh.js";import{_ as re}from"./TablePagination.vue_vue_type_script_setup_true_lang-DWUYT1fl.js";import{_ as ne}from"./AppTextField.vue_vue_type_script_setup_true_lang-dLIQD95n.js";import{_ as ue}from"./AppSelect.vue_vue_type_script_setup_true_lang-CaSYQgE4.js";import{_ as de}from"./AddNewUserDrawer.vue_vue_type_script_setup_true_lang-C68lyu3p.js";import{u as ce}from"./useApi-CMEYk7D0.js";import{c as pe}from"./createUrl-XwtQZ9tO.js";import{$ as D}from"./api-2IIv40F6.js";import{V as R,a as w}from"./VRow-Ch4uDk95.js";import{V as E,a as me,c as fe}from"./VCard-TCpTMKi2.js";import{V as k}from"./VCardText-C48XgJ5F.js";import{V as N}from"./VAvatar-D6Rg-emN.js";import{d as ve,r,bb as xe,X as W,c as C,e as s,b as l,f as o,aW as d,m as a,a as F,o as x,F as _e,i as ge,g as O,v as n,x as be,$ as m,t as f,ai as A}from"./index-DZWVFJEj.js";import{V as q}from"./VDivider-CUnWTeN4.js";import{V as Ve}from"./VSpacer-DPNjmTdR.js";import{V as ye}from"./VDataTableServer-C6Q9VPxq.js";import{V as he}from"./VMenu-DkDE5yEo.js";import{V as we,a as M,b as j}from"./VList-lqSkk-cC.js";import{V as Ue}from"./VChip-iTx-LGp3.js";import{V as ke}from"./VImg-5sgcKXtd.js";import"./helpers-BGv4x_9E.js";import"./VPagination-DAOyZhoK.js";import"./VTextField-C-NNS-p1.js";/* empty css                   */import"./VCounter-BcP4KGpW.js";import"./transition-BA0PS-dL.js";import"./VField-CY8NsM9x.js";import"./form-CD4LfcAL.js";import"./easing-Bybner-F.js";import"./VInput-BZNtZ0Cp.js";import"./forwardRefs-C-GTDzx5.js";import"./index-Oc9DpuAO.js";import"./VSelect-DiptaScs.js";import"./dialog-transition-UI5g3LTl.js";import"./VOverlay-BMNRwaY3.js";import"./delay-Dt2G0GSz.js";import"./lazy-DstQeSOP.js";import"./scopeId-BwPZto4e.js";import"./VCheckboxBtn-DVQscZuH.js";import"./VSelectionControl-0SN18547.js";import"./validators-BJEf8OaU.js";import"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-DW2Gtod3.js";import"./vue3-perfect-scrollbar-CR9Xn5XL.js";import"./VNavigationDrawer-CLXzLJqP.js";import"./ssrBoot-DBwgn1Yl.js";import"./VForm-BTAxl_Qv.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VDataTable-DJlMcNch.js";import"./VTable-WkGQlDnG.js";import"./filter-BWq_RMzg.js";import"./VSlideGroup-CsXjT706.js";const Ce={class:"d-flex mb-6"},Ae={class:"d-flex justify-space-between"},Pe={class:"d-flex flex-column gap-y-1"},Se={class:"text-body-1 text-high-emphasis"},Le={class:"d-flex gap-x-2 align-center"},Te={class:"text-h4"},Be={class:"text-sm"},ze={class:"me-3 d-flex gap-3"},Ie={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},$e={style:{"inline-size":"15.625rem"}},De={class:"d-flex align-center gap-x-4"},Re={key:1},Ee={class:"d-flex flex-column"},Ne={class:"text-base"},We={class:"text-sm"},Fe={class:"d-flex align-center gap-x-2"},Oe={class:"text-capitalize text-high-emphasis text-body-1"},qe={class:"text-body-1 text-high-emphasis text-capitalize"},qt=ve({__name:"index",async setup(Me){let _,P;const g=r(""),b=r(),V=r(),y=r(),c=r(10),p=r(1),S=r(),L=r(),v=r([]),Q=i=>{var t,u;S.value=(t=i.sortBy[0])==null?void 0:t.key,L.value=(u=i.sortBy[0])==null?void 0:u.order},X=[{title:"User",key:"user"},{title:"Role",key:"role"},{title:"Plan",key:"plan"},{title:"Billing",key:"billing"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:T,execute:B}=([_,P]=xe(()=>ce(pe("/apps/users",{query:{q:g,status:y,plan:V,role:b,itemsPerPage:c,page:p,sortBy:S,orderBy:L}}))),_=await _,P(),_),G=W(()=>T.value.users),z=W(()=>T.value.totalUsers),H=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],J=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],K=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],U=i=>{const t=i.toLowerCase();return t==="subscriber"?{color:"success",icon:"bx-user"}:t==="author"?{color:"error",icon:"bx-desktop"}:t==="maintainer"?{color:"info",icon:"bx-pie-chart-alt"}:t==="editor"?{color:"warning",icon:"bx-edit"}:t==="admin"?{color:"primary",icon:"bx-crown"}:{color:"primary",icon:"bx-user"}},Y=i=>{const t=i.toLowerCase();return t==="pending"?"warning":t==="active"?"success":t==="inactive"?"secondary":"primary"},h=r(!1),Z=async i=>{await D("/apps/users",{method:"POST",body:i}),B()},ee=async i=>{await D(`/apps/users/${i}`,{method:"DELETE"});const t=v.value.findIndex(u=>u===i);t!==-1&&v.value.splice(t,1),B()},te=r([{title:"Session",value:"21,459",change:29,desc:"Total Users",icon:"bx-group",iconColor:"primary"},{title:"Paid Users",value:"4,567",change:18,desc:"Last Week Analytics",icon:"bx-user-plus",iconColor:"error"},{title:"Active Users",value:"19,860",change:-14,desc:"Last Week Analytics",icon:"bx-user-check",iconColor:"success"},{title:"Pending Users",value:"237",change:42,desc:"Last Week Analytics",icon:"bx-user-voice",iconColor:"warning"}]);return(i,t)=>{const u=ue,le=ne,oe=F("RouterLink"),I=F("IconBtn"),se=re;return x(),C("section",null,[s("div",Ce,[l(R,null,{default:o(()=>[(x(!0),C(_e,null,ge(a(te),(e,$)=>(x(),O(w,{key:$,cols:"12",md:"3",sm:"6"},{default:o(()=>[l(E,null,{default:o(()=>[l(k,null,{default:o(()=>[s("div",Ae,[s("div",Pe,[s("div",Se,n(e.title),1),s("div",Le,[s("h4",Te,n(e.value),1),s("div",{class:be(["text-base",e.change>0?"text-success":"text-error"])}," ("+n(("prefixWithPlus"in i?i.prefixWithPlus:a(ae))(e.change))+"%) ",3)]),s("div",Be,n(e.desc),1)]),l(N,{color:e.iconColor,variant:"tonal",rounded:"",size:"40"},{default:o(()=>[l(m,{icon:e.icon,size:"24"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),l(E,{class:"mb-6"},{default:o(()=>[l(me,{class:"pb-4"},{default:o(()=>[l(fe,null,{default:o(()=>t[11]||(t[11]=[f("Filters")])),_:1,__:[11]})]),_:1}),l(k,null,{default:o(()=>[l(R,null,{default:o(()=>[l(w,{cols:"12",sm:"4"},{default:o(()=>[l(u,{modelValue:a(b),"onUpdate:modelValue":t[0]||(t[0]=e=>d(b)?b.value=e:null),placeholder:"Select Role",items:H,clearable:"","clear-icon":"bx-x"},null,8,["modelValue"])]),_:1}),l(w,{cols:"12",sm:"4"},{default:o(()=>[l(u,{modelValue:a(V),"onUpdate:modelValue":t[1]||(t[1]=e=>d(V)?V.value=e:null),placeholder:"Select Plan",items:J,clearable:"","clear-icon":"bx-x"},null,8,["modelValue"])]),_:1}),l(w,{cols:"12",sm:"4"},{default:o(()=>[l(u,{modelValue:a(y),"onUpdate:modelValue":t[2]||(t[2]=e=>d(y)?y.value=e:null),placeholder:"Select Status",items:K,clearable:"","clear-icon":"bx-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(q),l(k,{class:"d-flex flex-wrap gap-4"},{default:o(()=>[s("div",ze,[l(u,{"model-value":a(c),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":t[3]||(t[3]=e=>c.value=parseInt(e,10))},null,8,["model-value"])]),l(Ve),s("div",Ie,[s("div",$e,[l(le,{modelValue:a(g),"onUpdate:modelValue":t[4]||(t[4]=e=>d(g)?g.value=e:null),placeholder:"Search User"},null,8,["modelValue"])]),l(A,{variant:"tonal",color:"secondary","prepend-icon":"bx-export"},{default:o(()=>t[12]||(t[12]=[f(" Export ")])),_:1,__:[12]}),l(A,{"prepend-icon":"bx-plus",onClick:t[5]||(t[5]=e=>h.value=!0)},{default:o(()=>t[13]||(t[13]=[f(" Add New User ")])),_:1,__:[13]})])]),_:1}),l(q),l(ye,{"items-per-page":a(c),"onUpdate:itemsPerPage":t[7]||(t[7]=e=>d(c)?c.value=e:null),"model-value":a(v),"onUpdate:modelValue":t[8]||(t[8]=e=>d(v)?v.value=e:null),page:a(p),"onUpdate:page":t[9]||(t[9]=e=>d(p)?p.value=e:null),items:a(G),"item-value":"id","items-length":a(z),headers:X,class:"text-no-wrap","show-select":"","onUpdate:options":Q},{"item.user":o(({item:e})=>[s("div",De,[l(N,{size:"34",variant:e.avatar?void 0:"tonal",color:e.avatar?void 0:U(e.role).color},{default:o(()=>[e.avatar?(x(),O(ke,{key:0,src:e.avatar},null,8,["src"])):(x(),C("span",Re,n(("avatarText"in i?i.avatarText:a(ie))(e.fullName)),1))]),_:2},1032,["variant","color"]),s("div",Ee,[s("h6",Ne,[l(oe,{to:{name:"apps-user-view-id",params:{id:e.id}},class:"font-weight-medium text-link"},{default:o(()=>[f(n(e.fullName),1)]),_:2},1032,["to"])]),s("div",We,n(e.email),1)])])]),"item.role":o(({item:e})=>[s("div",Fe,[l(m,{size:20,icon:U(e.role).icon,color:U(e.role).color},null,8,["icon","color"]),s("div",Oe,n(e.role),1)])]),"item.plan":o(({item:e})=>[s("div",qe,n(e.currentPlan),1)]),"item.status":o(({item:e})=>[l(Ue,{color:Y(e.status),size:"small",label:"",class:"text-capitalize"},{default:o(()=>[f(n(e.status),1)]),_:2},1032,["color"])]),"item.actions":o(({item:e})=>[l(I,{onClick:$=>ee(e.id)},{default:o(()=>[l(m,{icon:"bx-trash"})]),_:2},1032,["onClick"]),l(I,null,{default:o(()=>[l(m,{icon:"bx-show"})]),_:1}),l(A,{icon:"",variant:"text",color:"medium-emphasis"},{default:o(()=>[l(m,{icon:"bx-dots-vertical-rounded"}),l(he,{activator:"parent"},{default:o(()=>[l(we,null,{default:o(()=>[l(M,{to:{name:"apps-user-view-id",params:{id:e.id}}},{prepend:o(()=>[l(m,{icon:"bx-show"})]),default:o(()=>[l(j,null,{default:o(()=>t[14]||(t[14]=[f("View")])),_:1,__:[14]})]),_:2},1032,["to"]),l(M,{link:""},{prepend:o(()=>[l(m,{icon:"bx-pencil"})]),default:o(()=>[l(j,null,{default:o(()=>t[15]||(t[15]=[f("Edit")])),_:1,__:[15]})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:o(()=>[l(se,{page:a(p),"onUpdate:page":t[6]||(t[6]=e=>d(p)?p.value=e:null),"items-per-page":a(c),"total-items":a(z)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1}),l(de,{"is-drawer-open":a(h),"onUpdate:isDrawerOpen":t[10]||(t[10]=e=>d(h)?h.value=e:null),onUserData:Z},null,8,["is-drawer-open"])])}}});export{qt as default};
