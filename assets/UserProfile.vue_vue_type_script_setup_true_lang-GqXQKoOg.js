import{$ as _}from"./TranslationUtil-Bbldp_kP.js";import{u as A,_ as N,a as P}from"./useAbility-BTnFwYwE.js";import{C as U}from"./vue3-perfect-scrollbar-ew-kNVbd.js";import{u as B,l as S}from"./Http-DShxCIls.js";import{d as D,j as z,b3 as j,c as l,o as s,b as e,g as n,l as F,m as a,f as t,$ as u,e as V,t as c,v as m,F as d,i as T,b4 as q,q as E}from"./index-DfJhTF3D.js";import{V as v}from"./VImg-CSxjGDXo.js";import{V as M}from"./VMenu-3l_UWhi2.js";import{V as R,a as f,b as y,d as G}from"./VList-whIA2bwW.js";import{V as H}from"./VListItemAction-Di2o7raF.js";import{V as g}from"./VAvatar-CG9gvdqc.js";import{V as J}from"./VBadge-BXP-ash4.js";import{V as b}from"./VDivider-DXqaUHVy.js";const K={class:"d-flex gap-2 align-center"},ie=D({__name:"UserProfile",setup(O){const k=z(),x=A(),C=B(),o=j("userData"),h=()=>{const i=C.getCurrentUser;return i===void 0?_("header.user.defaultName"):[i.first_name,i.last_name].filter(p=>p!==void 0).join(" ")},I=async()=>{await S(k,x)},L=[];return(i,p)=>{const $=N,w=P;return s(),l(d,null,[e($),e(w),a(o)?(s(),n(g,{key:0,class:"cursor-pointer",size:"38"},{default:t(()=>[a(o)&&a(o).avatar?(s(),n(v,{key:0,src:a(o).avatar},null,8,["src"])):(s(),n(u,{key:1,icon:"bx-user"})),e(M,{activator:"parent",location:"bottom end",offset:"20px",width:"240"},{default:t(()=>[e(R,null,{default:t(()=>[e(f,null,{default:t(()=>[V("div",K,[e(H,null,{default:t(()=>[e(g,{variant:a(o)&&a(o).avatar?void 0:"tonal"},{default:t(()=>[a(o)&&a(o).avatar?(s(),n(v,{key:0,src:a(o).avatar},null,8,["src"])):(s(),n(u,{key:1,icon:"bx-user"}))]),_:1},8,["variant"])]),_:1}),V("div",null,[e(y,{class:"font-weight-medium"},{default:t(()=>[c(m(h()),1)]),_:1}),e(G,{class:"text-disabled text-capitalize"})])])]),_:1}),e(a(U),{options:{wheelPropagation:!1}},{default:t(()=>[(s(),l(d,null,T(L,r=>(s(),l(d,{key:r.title},[r.type==="navItem"?(s(),n(f,{key:0,to:r.to},q({prepend:t(()=>[e(u,{icon:r.icon,size:"22"},null,8,["icon"])]),default:t(()=>[e(y,null,{default:t(()=>[c(m(r.title),1)]),_:2},1024)]),_:2},[r.badgeProps?{name:"append",fn:t(()=>[e(J,E({class:"me-3",rounded:"",ref_for:!0},r.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to"])):(s(),n(b,{key:1,class:"my-1"}))],64))),64)),e(b,{class:"my-1"}),e(f,{"prepend-icon":"bx-power-off",onClick:I},{default:t(()=>[c(m(("$t"in i?i.$t:a(_))("header.user.logout")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):F("",!0)],64)}}});export{ie as _};
